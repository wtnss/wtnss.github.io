!function(){"use strict";angular.module("tplx",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ui.bootstrap","toastr"])}(),function(){"use strict";function e(){function e(){}var a={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return a}angular.module("tplx").directive("acmeNavbar",e)}(),function(){"use strict";function e(e,a,t){function l(){e.close()}function n(){e.dismiss("cancel")}var s=this;s.bbCode=a,s.title=t,s.ok=l,s.cancel=n}e.$inject=["$uibModalInstance","bbCode","title"],angular.module("tplx").controller("ModalInstanceController",e)}(),function(){"use strict";function e(e,a,t,l,n){function s(){var e=[];return angular.isDefined(b)&&!f.isDisabled&&(e=e.concat(b)),angular.isDefined(v)&&(e=e.concat(v)),e}function o(){e.get(n).success(function(e){b=e.templates,i(),r(),a.info("TemplatesService.initTemplates: Successfully initilialized templates")}).error(function(e){a.error("TemplatesService.initTemplates: Error initializing templates. "+e)})}function i(){var e=localStorage.getItem(l);angular.isDefined(e)&&null!==e&&(v=angular.fromJson(e))}function r(){angular.forEach(s(),function(e){var a=[],t=e.code.match(/(###)(.*?)(###)/g);angular.forEach(t,function(e){var t=e.match(/[^#|]+/g);t.length>1?a.push({name:t[0],placeholder:e,type:"textarea",size:t[1]}):a.push({name:t[0],placeholder:e,type:"text"})}),e.variables=a})}function c(e){v.push({name:e.name,category:e.category,locked:!1,code:e.code}),p(v)}function d(e){var a=v.indexOf(e);v[a]={name:e.name,category:e.category,locked:!1,code:e.code},p(v)}function m(e){var a=v.indexOf(e);v.splice(a,1),p(v)}function p(e){angular.forEach(e,function(e){e.variables=void 0}),localStorage.setItem(l,angular.toJson(e)),o()}function u(e){var a=localStorage.getItem(t,e);return angular.isDefined(a)&&null!==a&&(f.isDisabled=angular.fromJson(a)),f}function g(){localStorage.setItem(t,angular.toJson(f.isDisabled))}var b=[],v=[],f={isDisabled:!1},h={getTemplates:s,initTemplates:o,addLocalStorageTemplate:c,changeLocalStorageTemplate:d,removeLocalStorageTemplate:m,isDefaultTemplatesDisabled:u,setLocalStorageDefaultTemplates:g};return h}e.$inject=["$http","$log","LOCAL_STORAGE_DEFAULTS","LOCAL_STORAGE_TEMPLATES","TEMPLATE_URL"],angular.module("tplx").factory("TemplatesService",e)}(),function(){"use strict";function e(e){function a(){e.addLocalStorageTemplate(c.addTemplateDto),i("success",'Template "'+c.addTemplateDto.name+'" wurde gespeichert.'),c.addTemplateDto={}}function t(){e.changeLocalStorageTemplate(c.selectedChangeTemplate),i("success",'Template "'+c.selectedChangeTemplate.name+'" wurde gespeichert.')}function l(){e.removeLocalStorageTemplate(c.selectedChangeTemplate),i("success",'Template "'+c.selectedChangeTemplate.name+'" wurde gelöscht.')}function n(){return e.getTemplates()}function s(){return e.isDefaultTemplatesDisabled()}function o(){e.setLocalStorageDefaultTemplates()}function i(e,a){c.alert={type:e,msg:a}}function r(){c.alert={}}var c=this;c.addTemplateDto={},c.selectedChangeTemplate={},c.alert={},c.collapse={variables:!0,storage:!0,defaults:!0},c.defaults=!1,c.addTemplate=a,c.changeTemplate=t,c.deleteTemplate=l,c.getTemplates=n,c.getDefaultTemplateSettings=s,c.changeDefaultTemplateSettings=o,c.closeAlert=r}e.$inject=["TemplatesService"],angular.module("tplx").controller("TemplatesController",e)}(),function(){"use strict";function e(){function e(e){var a=e.code;return angular.forEach(e.variables,function(e){angular.isUndefined(e.value)&&(e.value=""),a=a.replace(e.placeholder,e.value)}),a}var a={createCode:e};return a}angular.module("tplx").factory("MainService",e)}(),function(){"use strict";function e(e,a,t){function l(){angular.forEach(o.selectedTemplate.variables,function(e){e.value=void 0})}function n(){o.bbCode=e.createCode(o.selectedTemplate),t.open({animation:!0,templateUrl:"bbCodeModal.html",controller:"ModalInstanceController",controllerAs:"modali",size:"lg",resolve:{bbCode:function(){return o.bbCode},title:function(){return"Your TemplateX Code"}}})}function s(){return a.getTemplates()}var o=this;o.selectedTemplate={},o.bbCode="",o.clear=l,o.createCode=n,o.getTemplates=s}e.$inject=["MainService","TemplatesService","$uibModal"],angular.module("tplx").controller("MainController",e)}(),function(){"use strict";function e(e,a){a.initTemplates(),e.debug("runBlock end")}e.$inject=["$log","TemplatesService"],angular.module("tplx").run(e)}(),function(){"use strict";function e(e,a){e.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("templates",{url:"/templates",templateUrl:"app/templates/templates.html",controller:"TemplatesController",controllerAs:"templates"}),a.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("tplx").config(e)}(),function(){"use strict";angular.module("tplx").constant("TEMPLATE_URL","./assets/templates.json").constant("LOCAL_STORAGE_TEMPLATES","tplx_templates").constant("LOCAL_STORAGE_DEFAULTS","tplx_defaults").constant("TEMPLATE_CONSTANTS",{headline1:"###HEADLINE1###",headline2:"###HEADLINE2###",img:"###IMG###",source:"###SOURCE###",text:"###TEXT###",comment:"###COMMENT###"})}(),function(){"use strict";function e(e,a){e.debugEnabled(!0),a.allowHtml=!0,a.timeOut=3e3,a.positionClass="toast-top-right",a.preventDuplicates=!0,a.progressBar=!0}e.$inject=["$logProvider","toastrConfig"],angular.module("tplx").config(e)}(),angular.module("tplx").run(["$templateCache",function(e){e.put("app/main/main.html",'<div style="margin-bottom: 50px"><acme-navbar creation-date="main.creationDate"></acme-navbar></div><div class="jumbotron text-center" style="border: 10px"><h1><span class="glyphicon glyphicon-share" aria-hidden="true"></span> TemplateX</h1><h3>easily create your own code!</h3></div><div class="container"><form class="form-horizontal"><div class="form-group"><label for="inputTemplate" class="col-sm-2 control-label">Template</label><div class="col-sm-10"><select class="form-control" id="inputTemplate" ng-model="main.selectedTemplate" ng-options="template.name group by template.category for template in main.getTemplates()"></select></div></div><div class="form-group" ng-repeat="variable in main.selectedTemplate.variables"><div ng-if="variable.type === \'text\'"><label for="{{variable.name}}" class="col-sm-2 control-label">{{variable.name}}</label><div class="col-sm-10"><input type="text" class="form-control" id="{{variable.name}}" placeholder="{{variable.name}}" ng-model="variable.value" autocomplete="off"></div></div><div ng-if="variable.type === \'textarea\'"><label for="{{variable.name}}" class="col-sm-2 control-label">{{variable.name}}</label><div class="col-sm-10"><textarea class="form-control" rows="{{variable.size}}" id="{{variable.name}}" placeholder="{{variable.name}}" ng-model="variable.value">\n          </textarea></div></div></div><div class="form-group" ng-if="main.selectedTemplate.name"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary" ng-click="main.createCode()">Create!</button> <button type="submit" class="btn btn-warning" ng-click="main.clear()">Clear</button></div></div></form></div><script type="text/ng-template" id="bbCodeModal.html"><div class="modal-header"> <h3 class="modal-title">{{modali.title}}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <textarea class="form-control" rows="15" id="completedCode" ng-model="modali.bbCode" onfocus="this.select();"></textarea> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="modali.ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="modali.cancel()">Cancel</button> </div></script>'),e.put("app/templates/templates.html",'<div style="margin-bottom: 50px"><acme-navbar creation-date="main.creationDate"></acme-navbar></div><div class="container"><br><h2>Template Manager</h2><br><div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"><div class="panel panel-default"><div class="panel-heading" role="tab" id="headingVariables"><h4 class="panel-title"><a type="button" href="" ng-click="templates.collapse.variables = !templates.collapse.variables">Welche Platzhalter/Variablen kann ich in meinem Template verwenden?</a></h4></div><div uib-collapse="templates.collapse.variables"><div class="panel-body"><p>Du kannst die Platzhalter in deinem Template völlig frei definieren.<br>Alles was zwischen zwei ### steht, wird von TemplateX als Platzhalter interpretiert.<br>Jeder Platzhalter bekommt ein eigenes Eingabefeld. Dieses erhält den Namen des Platzhalters.</p><p><strong>Beispiel für eine 1-zeilige Eingabe:</strong><br>###Mein Platzhalter###</p><p><strong>Beispiel für eine mehrzeilige Eingabe:</strong><br>###Mein großer Platzhalter|7###<br><i>Die Zahl nach der | definiert die Anzahl an Zeilen für den Input.<br>Enthält der Platzhalter keine | hat das Eingabefeld automatisch nur eine Zeile.</i></p></div></div></div><div class="panel panel-default"><div class="panel-heading" role="tab" id="headingStorage"><h4 class="panel-title"><a type="button" href="" ng-click="templates.collapse.storage = !templates.collapse.storage">Wie werden meine eigenen Templates gespeichert?</a></h4></div><div uib-collapse="templates.collapse.storage"><div class="panel-body"><p>Die Templates werden mit Hilfe des Web Storage direkt im Browser gespeichert.<br>Damit bleiben die Templates so lange erhalten, bis der Web Storage (oder Cookies) explizit gelöscht wird.<br>Weitere Infos gibts <a href="https://de.wikipedia.org/wiki/Web_Storage" target="_blank">hier</a>.</p></div></div></div><div class="panel panel-default"><div class="panel-heading" role="tab" id="headingDefaults"><h4 class="panel-title"><a type="button" href="" ng-click="templates.collapse.defaults = !templates.collapse.defaults">Kann ich die Default Templates ausblenden?</a></h4></div><div uib-collapse="templates.collapse.defaults"><div class="panel-body"><p>Kein Problem:</p><div class="checkbox"><label><input type="checkbox" ng-model="templates.getDefaultTemplateSettings().isDisabled" ng-change="templates.changeDefaultTemplateSettings()"> Default Templates ausblenden</label></div></div></div></div></div><uib-tabset active="active"><uib-tab index="0" heading="Hinzufügen"><uib-alert ng-if="templates.alert.msg" dismiss-on-timeout="3000" type="{{templates.alert.type}}" close="templates.closeAlert()" style="margin-top: 20px;">{{templates.alert.msg}}</uib-alert><form class="form-horizontal"><br><div class="form-group"><label for="addName" class="col-sm-2 control-label">Name</label><div class="col-sm-10"><input type="text" class="form-control" id="addName" placeholder="Template Name" ng-model="templates.addTemplateDto.name" autocomplete="off"></div></div><div class="form-group"><label for="addCategory" class="col-sm-2 control-label">Kategorie</label><div class="col-sm-10"><input type="text" class="form-control" id="addCategory" placeholder="Kategorie" ng-model="templates.addTemplateDto.category" autocomplete="off"></div></div><div class="form-group"><label for="addTemplate" class="col-sm-2 control-label">Template</label><div class="col-sm-10"><textarea class="form-control" rows="15" id="addTemplate" placeholder="Template Code" ng-model="templates.addTemplateDto.code"></textarea></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary" ng-click="templates.addTemplate()" ng-disabled="!templates.addTemplateDto.name || !templates.addTemplateDto.category || !templates.addTemplateDto.code">Speichern</button></div></div></form></uib-tab><uib-tab index="1" heading="Ändern" disable="false"><uib-alert ng-if="templates.alert.msg" dismiss-on-timeout="3000" type="{{templates.alert.type}}" close="templates.closeAlert()" style="margin-top: 20px;">{{templates.alert.msg}}</uib-alert><form class="form-horizontal"><br><div class="form-group"><label for="changeSelect" class="col-sm-2 control-label">Auswahl</label><div class="col-sm-10"><select class="form-control" id="changeSelect" ng-model="templates.selectedChangeTemplate" ng-options="template.name group by template.category for template in templates.getTemplates()"></select></div></div><div ng-if="templates.selectedChangeTemplate.name"><div class="form-group"><label for="changeName" class="col-sm-2 control-label">Name</label><div class="col-sm-10"><input type="text" class="form-control" id="changeName" placeholder="Kategorie" ng-model="templates.selectedChangeTemplate.name" autocomplete="off" ng-disabled="templates.selectedChangeTemplate.locked"></div></div><div class="form-group"><label for="changeCategory" class="col-sm-2 control-label">Kategorie</label><div class="col-sm-10"><input type="text" class="form-control" id="changeCategory" placeholder="Kategorie" ng-model="templates.selectedChangeTemplate.category" autocomplete="off" ng-disabled="templates.selectedChangeTemplate.locked"></div></div><div class="form-group"><label for="changeTemplate" class="col-sm-2 control-label">Template</label><div class="col-sm-10"><textarea class="form-control" rows="15" id="changeTemplate" placeholder="Template Code" ng-model="templates.selectedChangeTemplate.code" ng-disabled="templates.selectedChangeTemplate.locked"></textarea></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary" ng-click="templates.changeTemplate()" ng-disabled="!templates.selectedChangeTemplate.name || templates.selectedChangeTemplate.locked">Speichern</button> <button type="button" class="btn btn-danger" ng-click="templates.deleteTemplate()" ng-disabled="!templates.selectedChangeTemplate.name || templates.selectedChangeTemplate.locked">Löschen</button></div></div></div></form></uib-tab></uib-tabset></div>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#"><span class="glyphicon glyphicon-share" aria-hidden="true"></span> TemplateX</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav"><li ui-sref="main" ui-sref-active="active"><a href="">Home <span class="sr-only">(current)</span></a></li><li ui-sref="templates" ui-sref-active="active"><a href="">Templates <span class="sr-only">(current)</span></a></li></ul></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-d674e93671.js.map

!function(){"use strict";angular.module("newsmaker",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ui.bootstrap","toastr"])}(),function(){"use strict";function e(e,t,a){function l(){e.close()}function s(){e.dismiss("cancel")}var n=this;n.bbCode=t,n.title=a,n.ok=l,n.cancel=s}e.$inject=["$uibModalInstance","bbCode","title"],angular.module("newsmaker").controller("ModalInstanceController",e)}(),function(){"use strict";function e(){function e(){}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("newsmaker").directive("acmeNavbar",e)}(),function(){"use strict";function e(e,t,a,l){function s(){return c}function n(){e.get(l).success(function(e){c=e.templates,o(),t.info("TemplatesService.initTemplate: Successfully initilialized template")}).error(function(e){t.error("TemplatesService.initTemplate: Error initializing template. "+e)})}function o(){for(var e in localStorage)e.startsWith(a)&&c.push({name:e.replace(a,""),locked:!1,code:localStorage[e]})}function i(e,t){localStorage.setItem(a+e,t),n()}function r(e){localStorage.removeItem(a+e),n()}var c=[],m={getTemplates:s,initTemplates:n,setLocalStorageTemplate:i,removeLocalStorageTemplate:r};return m}e.$inject=["$http","$log","LOCAL_STORAGE_PREFIX","TEMPLATE_URL"],angular.module("newsmaker").factory("TemplatesService",e)}(),function(){"use strict";function e(e,t){function a(){e.setLocalStorageTemplate(c.addTemplateDto.name,c.addTemplateDto.code),i("success",'Template "'+c.addTemplateDto.name+'" wurde gespeichert.'),c.addTemplateDto={}}function l(){e.setLocalStorageTemplate(c.selectedChangeTemplate.name,c.selectedChangeTemplate.code),i("success",'Template "'+c.selectedChangeTemplate.name+'" wurde gespeichert.')}function s(){e.removeLocalStorageTemplate(c.selectedChangeTemplate.name),i("success",'Template "'+c.selectedChangeTemplate.name+'" wurde gelöscht.')}function n(){return e.getTemplates()}function o(){return t}function i(e,t){c.alert={type:e,msg:t}}function r(){c.alert={}}var c=this;c.addTemplateDto={},c.selectedChangeTemplate={},c.alert={},c.isCollapsedConstants=!0,c.isCollapsedStorage=!0,c.addTemplate=a,c.changeTemplate=l,c.deleteTemplate=s,c.getTemplates=n,c.getTemplateConstants=o,c.closeAlert=r}e.$inject=["TemplatesService","TEMPLATE_CONSTANTS"],angular.module("newsmaker").controller("TemplatesController",e)}(),function(){"use strict";function e(e){function t(t){var a=t.selectedTemplate.code;return angular.forEach(e,function(e,l){angular.isUndefined(t[l])&&(t[l]=""),a=a.replace(e,t[l])}),a}var a={createCode:t};return a}e.$inject=["TEMPLATE_CONSTANTS"],angular.module("newsmaker").factory("MainService",e)}(),function(){"use strict";function e(e,t,a){function l(){o.newsDto={}}function s(){o.bbCode=e.createCode(o.newsDto),a.open({animation:!0,templateUrl:"bbCodeModal.html",controller:"ModalInstanceController",controllerAs:"modali",size:"lg",resolve:{bbCode:function(){return o.bbCode},title:function(){return"News: BB-Code!"}}})}function n(){return t.getTemplates()}var o=this;o.newsDto={},o.bbCode="",o.clear=l,o.createCode=s,o.getTemplates=n}e.$inject=["MainService","TemplatesService","$uibModal"],angular.module("newsmaker").controller("MainController",e)}(),function(){"use strict";function e(e,t){t.initTemplates(),e.debug("runBlock end")}e.$inject=["$log","TemplatesService"],angular.module("newsmaker").run(e)}(),function(){"use strict";function e(e,t){e.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("templates",{url:"/templates",templateUrl:"app/templates/templates.html",controller:"TemplatesController",controllerAs:"templates"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("newsmaker").config(e)}(),function(){"use strict";angular.module("newsmaker").constant("TEMPLATE_URL","./assets/templates.json").constant("LOCAL_STORAGE_PREFIX","ntmpl_").constant("TEMPLATE_CONSTANTS",{headline1:"###HEADLINE1###",headline2:"###HEADLINE2###",img:"###IMG###",source:"###SOURCE###",text:"###TEXT###",comment:"###COMMENT###"})}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}e.$inject=["$logProvider","toastrConfig"],angular.module("newsmaker").config(e)}(),angular.module("newsmaker").run(["$templateCache",function(e){e.put("app/main/main.html",'<div style="margin-bottom: 50px"><acme-navbar creation-date="main.creationDate"></acme-navbar></div><div class="jumbotron text-center" style="border: 10px"><h1><span class="glyphicon glyphicon-share" aria-hidden="true"></span> Newsmaker</h1><h3>Easily create your BB-Code!</h3></div><div class="container"><form class="form-horizontal"><div class="form-group"><label for="inputTemplate" class="col-sm-2 control-label">Template</label><div class="col-sm-10"><select class="form-control" id="inputTemplate" ng-model="main.newsDto.selectedTemplate" ng-options="template.name for template in main.getTemplates()"></select></div></div><div class="form-group"><label for="inputHeadline1" class="col-sm-2 control-label">Überschrift 1</label><div class="col-sm-10"><input type="text" class="form-control" id="inputHeadline1" placeholder="Überschrift 1" ng-model="main.newsDto.headline1"></div></div><div class="form-group"><label for="inputHeadline2" class="col-sm-2 control-label">Überschrift 2</label><div class="col-sm-10"><input type="text" class="form-control" id="inputHeadline2" placeholder="Überschrift 2" ng-model="main.newsDto.headline2"></div></div><div class="form-group"><label for="inputImg" class="col-sm-2 control-label">Bild URL</label><div class="col-sm-10"><input type="text" class="form-control" id="inputImg" placeholder="Bild URL" ng-model="main.newsDto.img"></div></div><div class="form-group"><label for="inputText" class="col-sm-2 control-label">Text</label><div class="col-sm-10"><textarea class="form-control" rows="3" id="inputText" placeholder="Text" ng-model="main.newsDto.text"></textarea></div></div><div class="form-group"><label for="inputSource" class="col-sm-2 control-label">Quelle</label><div class="col-sm-10"><input type="text" class="form-control" id="inputSource" placeholder="Quelle" ng-model="main.newsDto.source"></div></div><div class="form-group"><label for="inputComment" class="col-sm-2 control-label">Kommentar</label><div class="col-sm-10"><textarea class="form-control" rows="3" id="inputComment" placeholder="Text" ng-model="main.newsDto.comment"></textarea></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary" ng-click="main.createCode()" ng-disabled="!main.newsDto.selectedTemplate">Create!</button> <button type="submit" class="btn btn-warning" ng-click="main.clear()">Clear</button></div></div></form></div><script type="text/ng-template" id="bbCodeModal.html"><div class="modal-header"> <h3 class="modal-title">{{modali.title}}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <textarea class="form-control" rows="15" id="completedCode" ng-model="modali.bbCode" onfocus="this.select();"></textarea> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="modali.ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="modali.cancel()">Cancel</button> </div></script>'),e.put("app/templates/templates.html",'<div style="margin-bottom: 50px"><acme-navbar creation-date="main.creationDate"></acme-navbar></div><div class="container"><br><h2>Template Manager</h2><br><div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"><div class="panel panel-default"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a type="button" href="" ng-click="templates.isCollapsedConstants = !templates.isCollapsedConstants">Welche Variablen kann ich in meinem Template verwenden?</a></h4></div><div uib-collapse="templates.isCollapsedConstants"><div class="panel-body"><p ng-repeat="constant in templates.getTemplateConstants()">{{constant}}</p></div></div></div><div class="panel panel-default"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a type="button" href="" ng-click="templates.isCollapsedStorage = !templates.isCollapsedStorage">Wie werden meine Templates gespeichert?</a></h4></div><div uib-collapse="templates.isCollapsedStorage"><div class="panel-body"><p>Die Templates werden mit Hilfe des Web Storage direkt im Browser gespeichert.<br>Damit bleiben die Templates so lange erhalten, bis der Web Storage explizit gelöscht wird.<br>Weitere Infos gibts <a href="https://de.wikipedia.org/wiki/Web_Storage" target="_blank">hier</a>.</p></div></div></div></div><uib-tabset active="active"><uib-tab index="0" heading="Hinzufügen"><uib-alert ng-if="templates.alert.msg" dismiss-on-timeout="3000" type="{{templates.alert.type}}" close="templates.closeAlert()" style="margin-top: 20px;">{{templates.alert.msg}}</uib-alert><form class="form-horizontal"><br><div class="form-group"><label for="addName" class="col-sm-2 control-label">Name</label><div class="col-sm-10"><input type="text" class="form-control" id="addName" placeholder="Template Name" ng-model="templates.addTemplateDto.name"></div></div><div class="form-group"><label for="addTemplate" class="col-sm-2 control-label">Template</label><div class="col-sm-10"><textarea class="form-control" rows="15" id="addTemplate" placeholder="Template Code" ng-model="templates.addTemplateDto.code"></textarea></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary" ng-click="templates.addTemplate()" ng-disabled="!templates.addTemplateDto.name || !templates.addTemplateDto.code">Speichern</button></div></div></form></uib-tab><uib-tab index="1" heading="Ändern" disable="false"><uib-alert ng-if="templates.alert.msg" dismiss-on-timeout="3000" type="{{templates.alert.type}}" close="templates.closeAlert()" style="margin-top: 20px;">{{templates.alert.msg}}</uib-alert><form class="form-horizontal"><br><div class="form-group"><label for="changeName" class="col-sm-2 control-label">Name</label><div class="col-sm-10"><select class="form-control" id="changeName" ng-model="templates.selectedChangeTemplate" ng-options="template.name for template in templates.getTemplates()"></select></div></div><div class="form-group"><label for="changeTemplate" class="col-sm-2 control-label">Template</label><div class="col-sm-10"><textarea class="form-control" rows="15" id="changeTemplate" placeholder="Template Code" ng-model="templates.selectedChangeTemplate.code"></textarea></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary" ng-click="templates.changeTemplate()" ng-disabled="!templates.selectedChangeTemplate.name || templates.selectedChangeTemplate.locked">Speichern</button> <button type="button" class="btn btn-danger" ng-click="templates.deleteTemplate()" ng-disabled="!templates.selectedChangeTemplate.name || templates.selectedChangeTemplate.locked">Löschen</button></div></div></form></uib-tab></uib-tabset></div>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#"><span class="glyphicon glyphicon-share" aria-hidden="true"></span> Newsmaker</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav"><li ui-sref="main" ui-sref-active="active"><a href="">Home <span class="sr-only">(current)</span></a></li><li ui-sref="templates" ui-sref-active="active"><a href="">Templates <span class="sr-only">(current)</span></a></li></ul></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-be0fcbae9a.js.map
